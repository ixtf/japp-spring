<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<p:dataTable id="tableIndicators" var="_indicator"
		value="#{customerReportController.indicators}">
		<f:facet name="header">
			<h:outputText value="#{msg['indicator']}" />
		</f:facet>

		<p:column headerText="#{msg['operation']}" style="width:4%">
			<p:commandLink process="@this"
				update=":form:tableIndicators,:form:message"
				action="#{customerReportController.removeIndicator}"
				icon="ui-icon-minus">
				<h:outputText value="#{msg['delete']}" />
				<f:setPropertyActionListener value="#{_indicator}"
					target="#{customerReportController.indicator}" />
			</p:commandLink>
		</p:column>

		<p:column headerText="#{msg['name']}" sortBy="#{_indicator.name}">
			<h:outputText value="#{_indicator.name}" />
		</p:column>

		<p:column headerText="#{msg['indicatorPercent']}"
			sortBy="#{_indicator.percent}">
			<h:outputText value="#{_indicator.percent}">
				<f:convertNumber type="percent" />
			</h:outputText>
		</p:column>
	</p:dataTable>

	<p:panel header="#{msg['select']}#{msg['indicator']}" toggleable="true">
		<p:dataTable id="tableCustomerIndicators" var="_indicator"
			value="#{customerIndicatorsController.indicators}">
			<p:column headerText="#{msg['operation']}" style="width:4%">
				<p:commandLink process="@this"
					update=":form:tableIndicators,:form:message"
					action="#{customerReportController.addIndicator}"
					icon="ui-icon-plus">
					<h:outputText value="#{msg['add']}" />
					<f:setPropertyActionListener value="#{_indicator}"
						target="#{customerReportController.indicator}" />
				</p:commandLink>
			</p:column>

			<p:column headerText="#{msg['name']}" sortBy="#{_indicator.name}">
				<h:outputText value="#{_indicator.name}" />
			</p:column>

			<p:column headerText="#{msg['indicatorPercent']}"
				sortBy="#{_indicator.percent}">
				<h:outputText value="#{_indicator.percent}">
					<f:convertNumber type="percent" />
				</h:outputText>
			</p:column>
		</p:dataTable>
	</p:panel>
</ui:composition>
